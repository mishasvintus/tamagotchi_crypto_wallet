# 🎨 UI Design Documentation — Tamagotchi Wallet

## 📐 Глобальная структура

**Формат:** Веб-приложение (SPA)

**Архитектура:** Два независимых встраиваемых модуля

**Общая компоновка:**
```
┌─────────────────────────────────┐
│                                 │
│   <WalletModule />              │
│   (независимый модуль)          │
│   (верхняя часть)               │
│                                 │
├─────────────────────────────────┤
│                                 │
│   <TamagotchiModule />          │
│   (независимый модуль)          │
│   (нижняя часть)                │
│                                 │
│                                 │
└─────────────────────────────────┘
```

**Описание:**
- Вертикальное прямоугольное окно
- Верхняя часть (меньшая) — модуль кошелька (`WalletModule`)
- Нижняя часть (большая) — модуль тамагочи (`TamagotchiModule`)
- Разделение визуальное (линия или отступ)
- **Модули независимы** — можно разрабатывать отдельно

---

## 💰 UI Кошелька (верхняя часть)

**Статус:** В разработке (детали будут добавлены позже)

**Место:** Верхняя часть приложения

**Модуль:** `<WalletModule />`

**Независимость:**
- Собственное состояние
- Собственные компоненты
- Собственный сервис (wallet-service)
- Минимальная связь с тамагочи (только события)

**Интеграция:**
```tsx
// Главный компонент приложения
<App>
  <WalletModule onTransactionSent={handleTransaction} />
  <TamagotchiModule />
</App>
```

---

## 🐾 UI Тамагочи (нижняя часть)

**Модуль:** `<TamagotchiModule />`

**Независимость:**
- Собственное состояние
- Собственные компоненты
- Собственный сервис (tamagotchi-service)
- Слушает события от кошелька (опционально)

### Общая структура

UI тамагочи состоит из **4 основных страниц**:
1. **Главная** (Home)
2. **Магазин** (Shop)
3. **Развлечения** (Entertainment)
4. **Еда** (Food)

---

## 📄 Страница 1: Главная (Home)

### Структура:

```
┌─────────────────────────────────┐
│         [💰 150 монет] ← кнопка │
│                                 │
│                                 │
│        🐱 ПИТОМЕЦ               │
│        (крупное изображение)    │
│                                 │
│                                 │
│           [😊] [🍴]              │
│       (кружочки-кнопки)         │
│                                 │
└─────────────────────────────────┘
```

### Элементы:

1. **Верхняя часть:**
   - Количество монет (например: "💰 150 монет")
   - Это одновременно **кнопка** перехода в Магазин

2. **Центральная часть:**
   - Крупное изображение питомца (посередине)

3. **Нижняя часть:**
   - Две шкалы в виде кружочков:
     - **😊 Смайлик** (уровень счастья) → кнопка перехода в **Развлечения**
     - **🍴 Столовые приборы** (уровень сытости) → кнопка перехода в **Еда**

---

## 🛒 Страница 2: Магазин (Shop)

### Структура:

```
┌─────────────────────────────────┐
│  Магазин        [💰 150 монет]  │
│                                 │
│           [👤] [🎩] [👢]         │
│  (кружочки-кнопки категорий)    │
│                                 │
│   [◀]    🐱 ПИТОМЕЦ     [▶]     │
│                                 │
│    (листание влево/вправо)      │
│                                 │
│                                 │
│     [💰 50] или [Выбрать]       │
│     (цена/кнопка покупки)       │
│                                 │
│           [Назад]               │
└─────────────────────────────────┘
```

### Элементы:

1. **Верхняя часть:**
   - Надпись "Магазин" (посередине)
   - Количество монет (справа от надписи)

2. **Категории товаров:**
   - Три кнопки-кружочка (посередине):
     - **👤 Человечек** → выбор питомцев (по умолчанию выбрано)
     - **🎩 Шляпа** → выбор шляп для питомца
     - **👢 Ботинки** → выбор ботинок для питомца
   - Можно переключаться между категориями

3. **Центральная часть:**
   - Изображение питомца (как на главной)
   - Слева и справа кнопки **◀** и **▶** для листания вариантов товаров

4. **Информация о товаре:**
   - Если товар **не куплен**: отображается цена (например: "💰 50") — это одновременно кнопка покупки
   - Если товар **уже куплен**: кнопка "Выбрать" (для применения на питомце)

5. **Навигация:**
   - Кнопка "Назад" (внизу) → возврат на главную страницу

---

## 🎮 Страница 3: Развлечения (Entertainment)

### Структура:

```
┌─────────────────────────────────┐
│  [😊 Шкала радости] [💰 150]     │
│                                 │
│        🐱 ПИТОМЕЦ               │
│                                 │
│      [🎮] [🎯] [🎲] [🎨]          │
│  (кружочки-кнопки развлечений)  │
│                                 │
│            [Назад]              │
└─────────────────────────────────┘
```

### Элементы:

1. **Верхняя часть:**
   - Шкала радости (😊) — та же, на которую нажали для перехода
   - Количество монет (справа)

2. **Центральная часть:**
   - Изображение питомца (как на главной)

3. **Варианты развлечений:**
   - Кнопки-кружочки с иконками развлечений (например: 🎮 🎯 🎲 🎨)
   - При нажатии — питомец играет, получает опыт/валюту

4. **Навигация:**
   - Кнопка "Назад" (внизу) → возврат на главную страницу

---

## 🍕 Страница 4: Еда (Food)

### Структура:

```
┌─────────────────────────────────┐
│  [🍴 Шкала сытости] [💰 150]     │
│                                 │
│        🐱 ПИТОМЕЦ               │
│                                 │
│   [🍎] [🍕] [🍰] [🥩]            │
│  (кружочки-кнопки еды)          │
│                                 │
│        [Назад]                  │
└─────────────────────────────────┘
```

### Элементы:

1. **Верхняя часть:**
   - Шкала сытости (🍴) — та же, на которую нажали для перехода
   - Количество монет (справа)

2. **Центральная часть:**
   - Изображение питомца (как на главной)

3. **Варианты еды:**
   - Кнопки-кружочки с иконками еды (например: 🍎 🍕 🍰 🥩)
   - При нажатии — питомец ест, получает опыт/валюту

4. **Навигация:**
   - Кнопка "Назад" (внизу) → возврат на главную страницу

---

## 🎨 Визуальные элементы

### Кнопки-кружочки:
- Круглая форма
- Иконка внутри
- При нажатии — визуальная обратная связь (подсветка, анимация)

### Шкалы:
- Кружочки с иконками
- Визуальное отображение уровня (заполненность, цвет)
- Одновременно кнопки навигации

### Изображение питомца:
- Крупное, по центру
- Анимированное (опционально)
- Может отображать аксессуары (шляпа, ботинки)

---

## 🔄 Навигация между страницами

```
Главная
  ├─→ Магазин (через кнопку монет)
  ├─→ Развлечения (через шкалу 😊)
  └─→ Еда (через шкалу 🍴)

Магазин → Назад → Главная
Развлечения → Назад → Главная
Еда → Назад → Главная
```

---

## 📱 Адаптивность

**Примечание:** Для MVP фокус на десктопной версии. Мобильная адаптация — позже.

**Размеры (примерные):**
- Общее окно: ~400-600px ширина, ~800-1000px высота
- UI кошелька: ~20-30% высоты
- UI тамагочи: ~70-80% высоты

---

## 🎯 Приоритеты для MVP

### Высокий приоритет:
- ✅ Главная страница
- ✅ Магазин (базовая версия)
- ✅ Развлечения (1-2 варианта)
- ✅ Еда (1-2 варианта)
- ✅ Навигация между страницами

### Средний приоритет:
- 🟡 Анимации питомца
- 🟡 Визуальные эффекты при действиях
- 🟡 Плавные переходы между страницами

### Низкий приоритет:
- 🟢 Сложные анимации
- 🟢 Звуковые эффекты
- 🟢 Расширенная кастомизация

---

## 📝 Заметки для разработки

### Модульность

**Два независимых модуля:**

1. **WalletModule** (кошелёк)
   - Собственная папка компонентов: `src/ui/modules/wallet/`
   - Собственный сервис: `wallet-service`
   - Собственное состояние (React Context или State)
   - Может отправлять события: `onTransactionSent`, `onBalanceChanged`

2. **TamagotchiModule** (тамагочи)
   - Собственная папка компонентов: `src/ui/modules/tamagotchi/`
   - Собственный сервис: `tamagotchi-service`
   - Собственное состояние (React Context или State)
   - Может слушать события от кошелька (опционально)

**Связь между модулями:**
- Минимальная — через события (Event Bus или props)
- Кошелёк отправляет события → Тамагочи слушает и реагирует
- Можно разрабатывать полностью независимо

### Состояние тамагочи:

1. **Состояние приложения:**
   - Текущая страница (Home/Shop/Entertainment/Food)
   - Выбранная категория в магазине (Питомцы/Шляпы/Ботинки)
   - Текущий выбранный товар в магазине

2. **Данные:**
   - Количество монет (отображается везде, где нужно)
   - Уровни счастья и сытости (шкалы)
   - Текущий питомец и его аксессуары

3. **Интеграция с кошельком:**
   - Слушает события от кошелька (через Event Bus или props)
   - События: транзакция отправлена → награда питомцу
   - Полностью опционально — тамагочи может работать и без кошелька

---

## 🔄 Версии документации

- **v1.0** (текущая) — Базовая структура UI тамагочи
- **v1.1** — Добавлена модульная архитектура (независимые модули)
- UI кошелька — будет добавлено позже

---

## 🏗 Архитектура модулей

### Структура компонентов:

```
src/ui/
├── modules/
│   ├── wallet/                    ← Модуль кошелька
│   │   ├── WalletModule.tsx      ← Главный компонент модуля
│   │   ├── components/           ← Компоненты кошелька
│   │   ├── hooks/                ← Хуки кошелька
│   │   └── context/               ← Context для состояния
│   │
│   └── tamagotchi/               ← Модуль тамагочи
│       ├── TamagotchiModule.tsx  ← Главный компонент модуля
│       ├── components/            ← Компоненты тамагочи
│       ├── hooks/                 ← Хуки тамагочи
│       └── context/               ← Context для состояния
│
└── App.tsx                        ← Объединяет оба модуля
```

### Пример использования:

```tsx
// App.tsx
import { WalletModule } from './modules/wallet/WalletModule';
import { TamagotchiModule } from './modules/tamagotchi/TamagotchiModule';
import { EventBus } from './services/event-bus';

function App() {
  const handleTransactionSent = () => {
    EventBus.emit('wallet:transaction-sent');
  };

  return (
    <div className="app">
      <WalletModule onTransactionSent={handleTransactionSent} />
      <TamagotchiModule />
    </div>
  );
}
```

### Преимущества модульности:

1. ✅ **Независимая разработка** — можно делать параллельно
2. ✅ **Легко тестировать** — каждый модуль отдельно
3. ✅ **Легко заменять** — можно переписать один модуль, не трогая другой
4. ✅ **Переиспользование** — модули можно использовать в других проектах
5. ✅ **Чёткие границы** — понятно, где заканчивается один модуль и начинается другой

